% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/writeFileSafe.R
\name{writeFileSafe}
\alias{writeFileSafe}
\title{Safely Write an Output File}
\usage{
writeFileSafe(filename, fun, file_arg = NULL, ..., overwrite = FALSE)
}
\arguments{
\item{filename}{Character scalar; path to the output file.}

\item{fun}{A function that generates the output file (e.g., `write.csv`, `ggsave`, `saveRDS`).}

\item{file_arg}{Character string giving the name of the argument in `fun` that
specifies the output file path (e.g., `"file"`, `"path"`, or `"filename"`).
If `NULL`, the filename must be passed explicitly in `...`.}

\item{...}{Additional arguments passed to `fun`.}

\item{overwrite}{Logical; if `TRUE`, allows overwriting an existing file. Defaults to `FALSE`.}
}
\value{
Invisibly returns the path to the output file.
}
\description{
This function wraps another function that produces a single output file.
It ensures that the file is only written if it does not already exist,
unless `overwrite = TRUE`. The function also allows you to specify which
argument of the wrapped function should receive the output filename (e.g.,
`file`, `path`, or `filename`).
}
\examples{
\dontrun{
# 1. write.csv uses the 'file' argument
writeFileSafe("iris.csv", write.csv, file_arg = "file", x = iris, row.names = FALSE)

# 2. ggsave uses the 'filename' argument
library(ggplot2)
p <- ggplot(mtcars, aes(mpg, wt)) + geom_point()
writeFileSafe("plot.png", ggsave, file_arg = "filename", plot = p, width = 5, height = 4)

# 3. saveRDS also uses 'file'
writeFileSafe("model.rds", saveRDS, file_arg = "file", object = lm(mpg ~ wt, data = mtcars))
}

}
